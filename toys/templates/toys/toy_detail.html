{% extends "base.html" %}
{% load static %}

{% block extracss %}
    <link rel="stylesheet" href="{% static 'toys/css/toys.css' %}">   
{% endblock %}

{% block content %}

<div class="container">
    <div class="row toypage-header">
        <div class="col-4 toypage-path">{{ request.get_full_path }}</div>
        <div class="col-4 toypage-quantity">
            <p>... Products found</p>
        </div>
        <div class="col-4 toypage-filter">Add Sorting & Filter</div>            
    </div>
    <div class="row">
        <div class="col-6">
            <a href="/" class="toy-box mx-auto">  
                {% if toy.image %}            
                    <div>
                        <img src="{{ MEDIA_URL }}{{ toy.image }}" class="toy-image" 
                        alt="{{ toy.name }}">
                    </div>
                {% else %}  
                    <div>
                        <img src="{{ MEDIA_URL }}no_image_available.jpg" class="toy-image" alt="no image">
                    </div>                
                {% endif %}
            </a>                    
        </div>
        <div class="col-6">
            <p class="toy-name md-font">{{ toy.name }}</p>           
            <p>{{ toy.age }} | Item # {{ toy.sku }}</p>                      
            <p class="toy-price md-font">Â£{{ toy.price }}</p>  
            <p class="toy-price md-font">{{ toy.description }}</p> 
            <!--Add to cart button, code used from CI lesson 'Adding Products-->  
            <form action="{% url 'add_to_cart' toy.id %}" method="POST">
                {% csrf_token %}
                <div>
                    <p>Qty:</p>
                </div>                  
                <div class="quantity-input">
                    <input type="number" name="quantity" value="1" min="1" max="10" data-toy-id="{{ toy.id }}" id="id_qty_{{ toy.id }}">
                </div>
                <div class="add-to-cart-button">
                    <input type="submit" value="Add to cart">  
                </div>
                <input type="hidden" name="redirect_url" value="{{ request.path }}">
            </form> 
        </div>
    </div>
    <div class="row">
        <div class="col-12 review">
            <p>Reviews</p>
            <div>
                <p>If no review, show text 'Write the First Review'</p>
                <!--Only logged in users can add review-->
                <button>Add review</button>
            </div>
        </div>
    </div>
</div>

{% endblock %}